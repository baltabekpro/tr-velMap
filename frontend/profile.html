<!DOCTYPE html>
<html lang="kk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ú–µ–Ω—ñ“£ –ø—Ä–æ—Ñ–∏–ª—ñ–º - TravelMap</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        .header {
            background: white;
            border-radius: 15px;
            padding: 20px 30px;
            margin-bottom: 20px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .header h1 {
            color: #667eea;
            font-size: 24px;
        }

        .header-buttons {
            display: flex;
            gap: 10px;
        }

        .btn {
            padding: 10px 20px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s;
        }

        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .btn-secondary {
            background: #f5f5f5;
            color: #666;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .main-content {
            display: grid;
            grid-template-columns: 300px 1fr;
            gap: 20px;
        }

        .sidebar {
            background: white;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            height: fit-content;
        }

        .avatar {
            width: 150px;
            height: 150px;
            border-radius: 50%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 60px;
            color: white;
            margin: 0 auto 20px;
        }

        .user-name {
            text-align: center;
            font-size: 22px;
            font-weight: 700;
            color: #333;
            margin-bottom: 5px;
        }

        .user-username {
            text-align: center;
            color: #999;
            margin-bottom: 20px;
        }

        .stats {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-top: 20px;
        }

        .stat-item {
            text-align: center;
            padding: 15px;
            background: #f9f9f9;
            border-radius: 10px;
        }

        .stat-value {
            font-size: 24px;
            font-weight: 700;
            color: #667eea;
        }

        .stat-label {
            font-size: 12px;
            color: #999;
            margin-top: 5px;
        }

        .content-area {
            background: white;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 30px;
            border-bottom: 2px solid #f0f0f0;
        }

        .tab {
            padding: 12px 24px;
            cursor: pointer;
            color: #666;
            font-weight: 600;
            border-bottom: 3px solid transparent;
            margin-bottom: -2px;
            transition: all 0.3s;
        }

        .tab.active {
            color: #667eea;
            border-bottom-color: #667eea;
        }

        .tab:hover {
            color: #667eea;
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
            animation: fadeIn 0.3s;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            color: #333;
            font-weight: 500;
        }

        .form-group input,
        .form-group select,
        .form-group textarea {
            width: 100%;
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 14px;
        }

        .form-group input:focus,
        .form-group select:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: #667eea;
        }

        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }

        .success-message,
        .error-message {
            padding: 12px;
            border-radius: 8px;
            margin-bottom: 20px;
            display: none;
        }

        .success-message {
            background: #efe;
            color: #3c3;
        }

        .error-message {
            background: #fee;
            color: #c33;
        }

        .success-message.show,
        .error-message.show {
            display: block;
        }

        .privacy-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px;
            background: #f9f9f9;
            border-radius: 8px;
            margin-bottom: 10px;
        }

        .switch {
            position: relative;
            width: 50px;
            height: 26px;
        }

        .switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }

        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            transition: .4s;
            border-radius: 26px;
        }

        .slider:before {
            position: absolute;
            content: "";
            height: 18px;
            width: 18px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }

        input:checked + .slider {
            background-color: #667eea;
        }

        input:checked + .slider:before {
            transform: translateX(24px);
        }

        @media (max-width: 768px) {
            .main-content {
                grid-template-columns: 1fr;
            }

            .form-row {
                grid-template-columns: 1fr;
            }

            .header {
                flex-direction: column;
                gap: 15px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üó∫Ô∏è TravelMap - –ú–µ–Ω—ñ“£ –ø—Ä–æ—Ñ–∏–ª—ñ–º</h1>
            <div class="header-buttons">
                <button class="btn btn-secondary" onclick="window.location.href='index.html'">üè† –ë–∞—Å—Ç—ã –±–µ—Ç</button>
                <button class="btn btn-secondary" onclick="logout()">üö™ –®—ã“ì—É</button>
            </div>
        </div>

        <div class="main-content">
            <div class="sidebar">
                <div class="avatar" id="avatar">üë§</div>
                <div class="user-name" id="user-name">–ñ“Ø–∫—Ç–µ–ª—É–¥–µ...</div>
                <div class="user-username" id="user-username">@username</div>
                
                <div class="stats">
                    <div class="stat-item">
                        <div class="stat-value" id="stat-visits">0</div>
                        <div class="stat-label">–ë–∞—Ä—É –æ—Ä—ã–Ω–¥–∞—Ä—ã</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="stat-reviews">0</div>
                        <div class="stat-label">–ü—ñ–∫—ñ—Ä–ª–µ—Ä</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="stat-favorites">0</div>
                        <div class="stat-label">–¢–∞“£–¥–∞—É–ª—ã–ª–∞—Ä</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="stat-achievements">0</div>
                        <div class="stat-label">–ñ–µ—Ç—ñ—Å—Ç—ñ–∫—Ç–µ—Ä</div>
                    </div>
                </div>
            </div>

            <div class="content-area">
                <div class="tabs">
                    <div class="tab active" data-tab="profile">üìù –ü—Ä–æ—Ñ–∏–ª—å</div>
                    <div class="tab" data-tab="password">üîê “ö“±–ø–∏—è —Å”©–∑</div>
                    <div class="tab" data-tab="privacy">üîí “ö“±–ø–∏—è–ª—ã“õ</div>
                </div>

                <!-- Profile Tab -->
                <div id="tab-profile" class="tab-content active">
                    <div id="profile-success" class="success-message"></div>
                    <div id="profile-error" class="error-message"></div>

                    <form onsubmit="updateProfile(event)">
                        <div class="form-row">
                            <div class="form-group">
                                <label>–¢–æ–ª—ã“õ –∞—Ç—ã</label>
                                <input type="text" id="full_name">
                            </div>
                            <div class="form-group">
                                <label>Email</label>
                                <input type="email" id="email" disabled>
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label>–¢–µ–ª–µ—Ñ–æ–Ω</label>
                                <input type="tel" id="phone">
                            </div>
                            <div class="form-group">
                                <label>–¢—É“ì–∞–Ω –∫“Ø–Ω—ñ</label>
                                <input type="date" id="birth_date">
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label>–ñ—ã–Ω—ã—Å—ã</label>
                                <select id="gender">
                                    <option value="">–¢–∞“£–¥–∞—É</option>
                                    <option value="male">–ï—Ä–∫–µ–∫</option>
                                    <option value="female">”ò–π–µ–ª</option>
                                    <option value="other">–ë–∞—Å“õ–∞</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label>–¢—ñ–ª</label>
                                <select id="language">
                                    <option value="kk">“ö–∞–∑–∞“õ—à–∞</option>
                                    <option value="ru">–†—É—Å—Å–∫–∏–π</option>
                                    <option value="en">English</option>
                                </select>
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label>–ï–ª</label>
                                <input type="text" id="country">
                            </div>
                            <div class="form-group">
                                <label>“ö–∞–ª–∞</label>
                                <input type="text" id="city">
                            </div>
                        </div>

                        <div class="form-group">
                            <label>”®–∑—ñ–º —Ç—É—Ä–∞–ª—ã</label>
                            <textarea id="bio" rows="4" placeholder="”®–∑—ñ“£—ñ–∑ —Ç—É—Ä–∞–ª—ã –∞–π—Ç—ã–ø –±–µ—Ä—ñ“£—ñ–∑..."></textarea>
                        </div>

                        <button type="submit" class="btn btn-primary">üíæ –°–∞“õ—Ç–∞—É</button>
                    </form>
                </div>

                <!-- Password Tab -->
                <div id="tab-password" class="tab-content">
                    <div id="password-success" class="success-message"></div>
                    <div id="password-error" class="error-message"></div>

                    <form onsubmit="changePassword(event)">
                        <div class="form-group">
                            <label>–ï—Å–∫—ñ “õ“±–ø–∏—è —Å”©–∑</label>
                            <input type="password" id="old_password" required>
                        </div>

                        <div class="form-group">
                            <label>–ñ–∞“£–∞ “õ“±–ø–∏—è —Å”©–∑</label>
                            <input type="password" id="new_password" required minlength="6">
                        </div>

                        <div class="form-group">
                            <label>–ñ–∞“£–∞ “õ“±–ø–∏—è —Å”©–∑–¥—ñ —Ä–∞—Å—Ç–∞—É</label>
                            <input type="password" id="confirm_password" required minlength="6">
                        </div>

                        <button type="submit" class="btn btn-primary">üîê “ö“±–ø–∏—è —Å”©–∑–¥—ñ ”©–∑–≥–µ—Ä—Ç—É</button>
                    </form>
                </div>

                <!-- Privacy Tab -->
                <div id="tab-privacy" class="tab-content">
                    <div id="privacy-success" class="success-message"></div>
                    <div id="privacy-error" class="error-message"></div>

                    <div class="privacy-item">
                        <div>
                            <strong>–ü—Ä–æ—Ñ–∏–ª—å–¥—ñ –∞—à—ã“õ –∫”©—Ä—Å–µ—Ç—É</strong>
                            <p style="font-size: 12px; color: #999;">–ë–∞—Ä–ª—ã“ì—ã –ø—Ä–æ—Ñ–∏–ª—ñ“£—ñ–∑–¥—ñ –∫”©—Ä–µ –∞–ª–∞–¥—ã</p>
                        </div>
                        <label class="switch">
                            <input type="checkbox" id="profile_public" onchange="updatePrivacy()">
                            <span class="slider"></span>
                        </label>
                    </div>

                    <div class="privacy-item">
                        <div>
                            <strong>Email –∫”©—Ä—Å–µ—Ç—É</strong>
                            <p style="font-size: 12px; color: #999;">Email –º–µ–∫–µ–Ω–∂–∞–π—ã“£—ã–∑ –∫”©—Ä—ñ–Ω–µ–¥—ñ</p>
                        </div>
                        <label class="switch">
                            <input type="checkbox" id="show_email" onchange="updatePrivacy()">
                            <span class="slider"></span>
                        </label>
                    </div>

                    <div class="privacy-item">
                        <div>
                            <strong>–¢–µ–ª–µ—Ñ–æ–Ω –∫”©—Ä—Å–µ—Ç—É</strong>
                            <p style="font-size: 12px; color: #999;">–¢–µ–ª–µ—Ñ–æ–Ω –Ω”©–º—ñ—Ä—ñ“£—ñ–∑ –∫”©—Ä—ñ–Ω–µ–¥—ñ</p>
                        </div>
                        <label class="switch">
                            <input type="checkbox" id="show_phone" onchange="updatePrivacy()">
                            <span class="slider"></span>
                        </label>
                    </div>

                    <div class="privacy-item">
                        <div>
                            <strong>–ë–∞—Ä—É –æ—Ä—ã–Ω–¥–∞—Ä–¥—ã –∫”©—Ä—Å–µ—Ç—É</strong>
                            <p style="font-size: 12px; color: #999;">–°—ñ–∑ –±–∞—Ä“ì–∞–Ω –æ—Ä—ã–Ω–¥–∞—Ä –∫”©—Ä—ñ–Ω–µ–¥—ñ</p>
                        </div>
                        <label class="switch">
                            <input type="checkbox" id="show_visits" onchange="updatePrivacy()">
                            <span class="slider"></span>
                        </label>
                    </div>

                    <div class="privacy-item">
                        <div>
                            <strong>–ü—ñ–∫—ñ—Ä–ª–µ—Ä–¥—ñ –∫”©—Ä—Å–µ—Ç—É</strong>
                            <p style="font-size: 12px; color: #999;">–ñ–∞–∑“ì–∞–Ω –ø—ñ–∫—ñ—Ä–ª–µ—Ä—ñ“£—ñ–∑ –∫”©—Ä—ñ–Ω–µ–¥—ñ</p>
                        </div>
                        <label class="switch">
                            <input type="checkbox" id="show_reviews" onchange="updatePrivacy()">
                            <span class="slider"></span>
                        </label>
                    </div>

                    <div class="privacy-item">
                        <div>
                            <strong>–¢–∞“£–¥–∞—É–ª—ã–ª–∞—Ä–¥—ã –∫”©—Ä—Å–µ—Ç—É</strong>
                            <p style="font-size: 12px; color: #999;">–¢–∞“£–¥–∞—É–ª—ã –æ—Ä—ã–Ω–¥–∞—Ä—ã“£—ã–∑ –∫”©—Ä—ñ–Ω–µ–¥—ñ</p>
                        </div>
                        <label class="switch">
                            <input type="checkbox" id="show_favorites" onchange="updatePrivacy()">
                            <span class="slider"></span>
                        </label>
                    </div>

                    <div class="privacy-item">
                        <div>
                            <strong>–•–∞–±–∞—Ä–ª–∞–º–∞–ª–∞—Ä“ì–∞ —Ä“±“õ—Å–∞—Ç</strong>
                            <p style="font-size: 12px; color: #999;">–ë–∞—Å“õ–∞–ª–∞—Ä —Å—ñ–∑–≥–µ –∂–∞–∑–∞ –∞–ª–∞–¥—ã</p>
                        </div>
                        <label class="switch">
                            <input type="checkbox" id="allow_messages" onchange="updatePrivacy()">
                            <span class="slider"></span>
                        </label>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        const API_URL = 'http://localhost:3000';
        let currentUser = null;

        // Tab switching
        document.querySelectorAll('.tab').forEach(tab => {
            tab.addEventListener('click', () => {
                const targetTab = tab.dataset.tab;
                
                document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
                tab.classList.add('active');
                
                document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
                document.getElementById(`tab-${targetTab}`).classList.add('active');
            });
        });

        // Load user profile
        async function loadProfile() {
            const token = localStorage.getItem('token');
            console.log('üîê loadProfile: token exists:', !!token);
            
            if (!token) {
                console.log('‚ùå No token, redirecting to login');
                window.location.href = 'login.html';
                return;
            }

            try {
                console.log('üì° Fetching profile from:', `${API_URL}/api/auth/profile`);
                const response = await fetch(`${API_URL}/api/auth/profile`, {
                    headers: {
                        'Authorization': `Bearer ${token}`
                    }
                });

                console.log('üì• Response status:', response.status, response.statusText);

                if (!response.ok) {
                    throw new Error('Unauthorized');
                }

                const data = await response.json();
                console.log('‚úÖ Profile data received:', data);
                
                // API returns "profile" not "user"
                const profile = data.profile || data.user || data;
                currentUser = profile;
                console.log('üë§ Current user set:', currentUser);

                // Update UI
                document.getElementById('user-name').textContent = profile.full_name || profile.username;
                document.getElementById('user-username').textContent = `@${profile.username}`;
                document.getElementById('avatar').textContent = profile.full_name ? profile.full_name[0].toUpperCase() : 'üë§';

                // Stats - profile includes stats
                document.getElementById('stat-visits').textContent = profile.total_visits || 0;
                document.getElementById('stat-reviews').textContent = profile.total_reviews || 0;
                document.getElementById('stat-favorites').textContent = profile.total_favorites || 0;
                document.getElementById('stat-achievements').textContent = 0;

                // Form fields
                document.getElementById('full_name').value = profile.full_name || '';
                document.getElementById('email').value = profile.email || '';
                document.getElementById('phone').value = profile.phone || '';
                document.getElementById('birth_date').value = profile.birth_date || '';
                document.getElementById('gender').value = profile.gender || '';
                document.getElementById('language').value = profile.language || 'kk';
                document.getElementById('country').value = profile.country || '';
                document.getElementById('city').value = profile.city || '';
                document.getElementById('bio').value = profile.bio || '';

                // Privacy settings - profile includes privacy
                document.getElementById('profile_public').checked = profile.profile_public === 1;
                document.getElementById('show_email').checked = profile.show_email === 1;
                document.getElementById('show_phone').checked = profile.show_phone === 1;
                document.getElementById('show_visits').checked = profile.show_visits === 1;
                document.getElementById('show_reviews').checked = profile.show_reviews === 1;
                document.getElementById('show_favorites').checked = profile.show_favorites === 1;
                document.getElementById('allow_messages').checked = profile.allow_messages === 1;

            } catch (error) {
                console.error('‚ùå Load profile error:', error);
                console.log('üóëÔ∏è Clearing tokens and redirecting to login');
                localStorage.removeItem('token');
                localStorage.removeItem('user');
                window.location.href = 'login.html';
            }
        }

        // Update profile
        async function updateProfile(event) {
            event.preventDefault();
            const token = localStorage.getItem('token');

            hideMessage('profile');

            const profileData = {
                full_name: document.getElementById('full_name').value,
                phone: document.getElementById('phone').value,
                birth_date: document.getElementById('birth_date').value,
                gender: document.getElementById('gender').value,
                language: document.getElementById('language').value,
                country: document.getElementById('country').value,
                city: document.getElementById('city').value,
                bio: document.getElementById('bio').value
            };

            try {
                const response = await fetch(`${API_URL}/api/auth/profile`, {
                    method: 'PUT',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': `Bearer ${token}`
                    },
                    body: JSON.stringify(profileData)
                });

                const data = await response.json();

                if (response.ok) {
                    showSuccess('profile', '–ü—Ä–æ—Ñ–∏–ª—å —Å”ô—Ç—Ç—ñ –∂–∞“£–∞—Ä—Ç—ã–ª–¥—ã! ‚úÖ');
                    loadProfile();
                } else {
                    showError('profile', data.error || '–ñ–∞“£–∞—Ä—Ç—É “õ–∞—Ç–µ—Å—ñ');
                }
            } catch (error) {
                console.error('Update profile error:', error);
                showError('profile', '–°–µ—Ä–≤–µ—Ä–º–µ–Ω –±–∞–π–ª–∞–Ω—ã—Å –∂–æ“õ');
            }
        }

        // Change password
        async function changePassword(event) {
            event.preventDefault();
            const token = localStorage.getItem('token');

            hideMessage('password');

            const oldPassword = document.getElementById('old_password').value;
            const newPassword = document.getElementById('new_password').value;
            const confirmPassword = document.getElementById('confirm_password').value;

            if (newPassword !== confirmPassword) {
                showError('password', '“ö“±–ø–∏—è —Å”©–∑–¥–µ—Ä —Å”ô–π–∫–µ—Å –∫–µ–ª–º–µ–π–¥—ñ');
                return;
            }

            try {
                const response = await fetch(`${API_URL}/api/auth/change-password`, {
                    method: 'PUT',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': `Bearer ${token}`
                    },
                    body: JSON.stringify({
                        old_password: oldPassword,
                        new_password: newPassword
                    })
                });

                const data = await response.json();

                if (response.ok) {
                    showSuccess('password', '“ö“±–ø–∏—è —Å”©–∑ —Å”ô—Ç—Ç—ñ ”©–∑–≥–µ—Ä—Ç—ñ–ª–¥—ñ! ‚úÖ');
                    event.target.reset();
                } else {
                    showError('password', data.error || '“ö“±–ø–∏—è —Å”©–∑ ”©–∑–≥–µ—Ä—Ç—É “õ–∞—Ç–µ—Å—ñ');
                }
            } catch (error) {
                console.error('Change password error:', error);
                showError('password', '–°–µ—Ä–≤–µ—Ä–º–µ–Ω –±–∞–π–ª–∞–Ω—ã—Å –∂–æ“õ');
            }
        }

        // Update privacy settings
        async function updatePrivacy() {
            const token = localStorage.getItem('token');

            hideMessage('privacy');

            const privacyData = {
                profile_public: document.getElementById('profile_public').checked ? 1 : 0,
                show_email: document.getElementById('show_email').checked ? 1 : 0,
                show_phone: document.getElementById('show_phone').checked ? 1 : 0,
                show_visits: document.getElementById('show_visits').checked ? 1 : 0,
                show_reviews: document.getElementById('show_reviews').checked ? 1 : 0,
                show_favorites: document.getElementById('show_favorites').checked ? 1 : 0,
                allow_messages: document.getElementById('allow_messages').checked ? 1 : 0
            };

            try {
                const response = await fetch(`${API_URL}/api/auth/privacy-settings`, {
                    method: 'PUT',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': `Bearer ${token}`
                    },
                    body: JSON.stringify(privacyData)
                });

                const data = await response.json();

                if (response.ok) {
                    showSuccess('privacy', '“ö“±–ø–∏—è–ª—ã“õ –±–∞–ø—Ç–∞—É–ª–∞—Ä—ã —Å–∞“õ—Ç–∞–ª–¥—ã! ‚úÖ');
                } else {
                    showError('privacy', data.error || '–°–∞“õ—Ç–∞—É “õ–∞—Ç–µ—Å—ñ');
                }
            } catch (error) {
                console.error('Update privacy error:', error);
                showError('privacy', '–°–µ—Ä–≤–µ—Ä–º–µ–Ω –±–∞–π–ª–∞–Ω—ã—Å –∂–æ“õ');
            }
        }

        // Logout
        function logout() {
            localStorage.removeItem('token');
            localStorage.removeItem('user');
            window.location.href = 'login.html';
        }

        // Helper functions
        function showSuccess(form, message) {
            const elem = document.getElementById(`${form}-success`);
            elem.textContent = message;
            elem.classList.add('show');
            setTimeout(() => elem.classList.remove('show'), 3000);
        }

        function showError(form, message) {
            const elem = document.getElementById(`${form}-error`);
            elem.textContent = message;
            elem.classList.add('show');
        }

        function hideMessage(form) {
            document.getElementById(`${form}-success`).classList.remove('show');
            document.getElementById(`${form}-error`).classList.remove('show');
        }

        // Load profile on page load
        window.addEventListener('load', loadProfile);
    </script>
</body>
</html>
