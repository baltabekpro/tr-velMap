<!DOCTYPE html><!DOCTYPE html><!DOCTYPE html><!DOCTYPE html>

<html lang="kk">

<head><html lang="kk">

    <meta charset="UTF-8">

    <meta name="viewport" content="width=device-width, initial-scale=1.0"><head><html lang="kk"><html lang="ru">

    <title>TravelMap - –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –°–µ—Ä–≤–∏—Å—Ç–µ—Ä—ñ</title>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">    <meta charset="UTF-8">

    <style>

        * {    <meta name="viewport" content="width=device-width, initial-scale=1.0"><head><head>

            margin: 0;

            padding: 0;    <title>TravelMap - –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –°–µ—Ä–≤–∏—Å—Ç–µ—Ä—ñ</title>

            box-sizing: border-box;

        }    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">    <meta charset="UTF-8">    <meta charset="UTF-8">



        body {    <style>

            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;

            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);        * {    <meta name="viewport" content="width=device-width, initial-scale=1.0">    <meta name="viewport" content="width=device-width, initial-scale=1.0">

            min-height: 100vh;

            padding: 20px;            margin: 0;

        }

            padding: 0;    <title>TravelMap - –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –°–µ—Ä–≤–∏—Å—Ç–µ—Ä—ñ</title>    <title>tr–êvelMap - –ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—Ç–µ—Ä–¥—ñ –±–∞“õ—ã–ª–∞—É</title>

        .monitor-container {

            max-width: 1400px;            box-sizing: border-box;

            margin: 0 auto;

        }        }    <link rel="stylesheet" href="styles.css">    



        .header {

            background: rgba(255, 255, 255, 0.95);

            border-radius: 20px;        body {    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">    <!-- Font Awesome Icons -->

            padding: 30px;

            margin-bottom: 30px;            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;

            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);

        }            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);    <style>    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">



        .header h1 {            min-height: 100vh;

            color: #667eea;

            font-size: 2.5rem;            padding: 20px;        .monitor-container {    

            margin-bottom: 10px;

            display: flex;        }

            align-items: center;

            gap: 15px;            min-height: 100vh;    <style>

        }

        .monitor-container {

        .header p {

            color: #666;            max-width: 1400px;            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);        * {

            font-size: 1.1rem;

        }            margin: 0 auto;



        .status-summary {        }            padding: 40px 20px;            margin: 0;

            display: grid;

            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));

            gap: 20px;

            margin-bottom: 30px;        .monitor-header {        }            padding: 0;

        }

            text-align: center;

        .summary-card {

            background: rgba(255, 255, 255, 0.95);            color: white;            box-sizing: border-box;

            border-radius: 15px;

            padding: 25px;            margin-bottom: 40px;

            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.15);

            transition: transform 0.3s ease;        }        .monitor-header {        }

        }



        .summary-card:hover {

            transform: translateY(-5px);        .monitor-header h1 {            text-align: center;

        }

            font-size: 3rem;

        .summary-card h3 {

            color: #333;            margin-bottom: 10px;            color: white;        :root {

            font-size: 1rem;

            margin-bottom: 15px;            text-shadow: 0 2px 10px rgba(0,0,0,0.3);

            text-transform: uppercase;

            letter-spacing: 1px;        }            margin-bottom: 40px;            --primary-color: #2563eb;

        }



        .summary-value {

            font-size: 2.5rem;        .monitor-header p {        }            --success-color: #22c55e;

            font-weight: bold;

            margin-bottom: 10px;            font-size: 1.2rem;

        }

            opacity: 0.9;            --warning-color: #f59e0b;

        .summary-card.total .summary-value {

            color: #667eea;        }

        }

        .monitor-header h1 {            --danger-color: #ef4444;

        .summary-card.online .summary-value {

            color: #10b981;        .controls {

        }

            display: flex;            font-size: 3rem;            --dark-bg: #0f172a;

        .summary-card.offline .summary-value {

            color: #ef4444;            justify-content: center;

        }

            gap: 20px;            margin-bottom: 10px;            --dark-card: #1e293b;

        .summary-card.uptime .summary-value {

            color: #f59e0b;            margin-bottom: 30px;

        }

            flex-wrap: wrap;        }            --light-text: #f1f5f9;

        .controls {

            background: rgba(255, 255, 255, 0.95);        }

            border-radius: 15px;

            padding: 20px;            --gray-text: #94a3b8;

            margin-bottom: 30px;

            display: flex;        .refresh-btn {

            gap: 15px;

            align-items: center;            padding: 12px 30px;        .monitor-header p {        }

            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.15);

        }            background: white;



        .btn {            color: #667eea;            font-size: 1.2rem;

            padding: 12px 25px;

            border: none;            border: none;

            border-radius: 8px;

            font-size: 1rem;            border-radius: 50px;            opacity: 0.9;        body {

            cursor: pointer;

            transition: all 0.3s ease;            font-weight: bold;

            display: flex;

            align-items: center;            cursor: pointer;        }            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;

            gap: 10px;

        }            box-shadow: 0 4px 15px rgba(0,0,0,0.2);



        .btn-primary {            transition: all 0.3s;            background: var(--dark-bg);

            background: #667eea;

            color: white;            display: flex;

        }

            align-items: center;        .refresh-btn {            color: var(--light-text);

        .btn-primary:hover {

            background: #5568d3;            gap: 10px;

        }

        }            position: fixed;            padding: 2rem;

        .btn-secondary {

            background: #10b981;

            color: white;

        }        .refresh-btn:hover {            top: 20px;        }



        .btn-secondary:hover {            transform: translateY(-2px);

            background: #059669;

        }            box-shadow: 0 6px 20px rgba(0,0,0,0.3);            right: 20px;



        .toggle-switch {        }

            display: flex;

            align-items: center;            padding: 12px 24px;        .container {

            gap: 10px;

            margin-left: auto;        .auto-refresh {

        }

            background: rgba(255,255,255,0.2);            background: white;            max-width: 1400px;

        .switch {

            position: relative;            padding: 12px 20px;

            display: inline-block;

            width: 60px;            border-radius: 50px;            color: #667eea;            margin: 0 auto;

            height: 34px;

        }            color: white;



        .switch input {            display: flex;            border: none;        }

            opacity: 0;

            width: 0;            align-items: center;

            height: 0;

        }            gap: 10px;            border-radius: 50px;



        .slider {        }

            position: absolute;

            cursor: pointer;            font-weight: bold;        header {

            top: 0;

            left: 0;        .auto-refresh input[type="checkbox"] {

            right: 0;

            bottom: 0;            width: 20px;            cursor: pointer;            text-align: center;

            background-color: #ccc;

            transition: .4s;            height: 20px;

            border-radius: 34px;

        }            cursor: pointer;            box-shadow: 0 4px 15px rgba(0,0,0,0.2);            margin-bottom: 3rem;



        .slider:before {        }

            position: absolute;

            content: "";            transition: all 0.3s;            padding-bottom: 2rem;

            height: 26px;

            width: 26px;        .services-grid {

            left: 4px;

            bottom: 4px;            display: grid;        }            border-bottom: 2px solid var(--dark-card);

            background-color: white;

            transition: .4s;            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));

            border-radius: 50%;

        }            gap: 30px;        }



        input:checked + .slider {            margin-bottom: 30px;

            background-color: #10b981;

        }        }        .refresh-btn:hover {



        input:checked + .slider:before {

            transform: translateX(26px);

        }        .service-card {            transform: translateY(-2px);        h1 {



        .services-grid {            background: white;

            display: grid;

            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));            border-radius: 16px;            box-shadow: 0 6px 20px rgba(0,0,0,0.3);            font-size: 3rem;

            gap: 25px;

            margin-bottom: 30px;            padding: 30px;

        }

            box-shadow: 0 10px 30px rgba(0,0,0,0.2);        }            margin-bottom: 1rem;

        .service-card {

            background: rgba(255, 255, 255, 0.95);            transition: all 0.3s;

            border-radius: 15px;

            padding: 25px;            position: relative;            display: flex;

            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.15);

            transition: all 0.3s ease;            overflow: hidden;

            position: relative;

            overflow: hidden;        }        .auto-refresh {            align-items: center;

        }



        .service-card::before {

            content: '';        .service-card:hover {            text-align: center;            justify-content: center;

            position: absolute;

            top: 0;            transform: translateY(-5px);

            left: 0;

            width: 5px;            box-shadow: 0 15px 40px rgba(0,0,0,0.3);            color: white;            gap: 1rem;

            height: 100%;

            background: var(--status-color);        }

        }

            margin-bottom: 30px;        }

        .service-card.online {

            --status-color: #10b981;        .service-status {

        }

            position: absolute;        }

        .service-card.offline {

            --status-color: #ef4444;            top: 0;

        }

            left: 0;        .subtitle {

        .service-card:hover {

            transform: translateY(-5px);            width: 100%;

            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);

        }            height: 6px;        .auto-refresh label {            color: var(--gray-text);



        .service-header {        }

            display: flex;

            justify-content: space-between;            display: flex;            font-size: 1.2rem;

            align-items: center;

            margin-bottom: 20px;        .service-status.online {

        }

            background: linear-gradient(90deg, #4CAF50, #8BC34A);            align-items: center;        }

        .service-name {

            font-size: 1.3rem;        }

            font-weight: bold;

            color: #333;            justify-content: center;

            display: flex;

            align-items: center;        .service-status.offline {

            gap: 10px;

        }            background: linear-gradient(90deg, #F44336, #E91E63);            gap: 10px;        .controls {



        .service-icon {        }

            font-size: 1.5rem;

        }            font-size: 1.1rem;            display: flex;



        .status-badge {        .service-header {

            padding: 8px 16px;

            border-radius: 20px;            display: flex;        }            gap: 1rem;

            font-size: 0.9rem;

            font-weight: bold;            align-items: center;

            text-transform: uppercase;

        }            gap: 15px;            justify-content: center;



        .status-badge.online {            margin-bottom: 20px;

            background: #d1fae5;

            color: #065f46;        }        .auto-refresh input[type="checkbox"] {            margin-bottom: 2rem;

        }



        .status-badge.offline {

            background: #fee2e2;        .service-icon {            width: 20px;            flex-wrap: wrap;

            color: #991b1b;

        }            width: 60px;



        .service-details {            height: 60px;            height: 20px;        }

            display: grid;

            gap: 15px;            border-radius: 12px;

        }

            display: flex;            cursor: pointer;

        .detail-row {

            display: flex;            align-items: center;

            justify-content: space-between;

            align-items: center;            justify-content: center;        }        .control-btn {

            padding: 10px;

            background: rgba(0, 0, 0, 0.03);            font-size: 2rem;

            border-radius: 8px;

        }            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);            padding: 0.8rem 1.5rem;



        .detail-label {            color: white;

            color: #666;

            font-weight: 500;        }        .services-grid {            border: none;

        }



        .detail-value {

            color: #333;        .service-info h3 {            max-width: 1400px;            border-radius: 10px;

            font-weight: bold;

        }            font-size: 1.5rem;



        .url-link {            margin: 0;            margin: 0 auto;            cursor: pointer;

            color: #667eea;

            text-decoration: none;            color: #333;

            word-break: break-all;

        }        }            display: grid;            font-size: 1rem;



        .url-link:hover {

            text-decoration: underline;

        }        .service-badge {            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));            display: flex;



        .error-message {            display: inline-block;

            background: #fee2e2;

            color: #991b1b;            padding: 4px 12px;            gap: 30px;            align-items: center;

            padding: 15px;

            border-radius: 8px;            border-radius: 20px;

            margin-top: 15px;

            font-size: 0.9rem;            font-size: 0.85rem;        }            gap: 0.5rem;

        }

            font-weight: bold;

        .last-update {

            text-align: center;            margin-top: 5px;            transition: all 0.3s ease;

            color: rgba(255, 255, 255, 0.9);

            font-size: 0.9rem;        }

            margin-top: 20px;

            padding: 15px;        .service-card {            color: white;

            background: rgba(0, 0, 0, 0.2);

            border-radius: 10px;        .service-badge.online {

        }

            background: #4CAF50;            background: white;        }

        .loading {

            text-align: center;            color: white;

            padding: 50px;

            color: white;        }            border-radius: 16px;

            font-size: 1.5rem;

        }



        .spinner {        .service-badge.offline {            padding: 30px;        .control-btn.start-all {

            border: 4px solid rgba(255, 255, 255, 0.3);

            border-top: 4px solid white;            background: #F44336;

            border-radius: 50%;

            width: 50px;            color: white;            box-shadow: 0 10px 30px rgba(0,0,0,0.2);            background: var(--success-color);

            height: 50px;

            animation: spin 1s linear infinite;        }

            margin: 0 auto 20px;

        }            transition: all 0.3s;        }



        @keyframes spin {        .service-details {

            0% { transform: rotate(0deg); }

            100% { transform: rotate(360deg); }            margin-top: 20px;            position: relative;

        }

        }

        .log-section {

            background: rgba(255, 255, 255, 0.95);            overflow: hidden;        .control-btn.stop-all {

            border-radius: 15px;

            padding: 25px;        .detail-row {

            margin-top: 30px;

            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.15);            display: flex;        }            background: var(--danger-color);

        }

            justify-content: space-between;

        .log-section h2 {

            color: #333;            padding: 12px 0;        }

            margin-bottom: 20px;

            display: flex;            border-bottom: 1px solid #f0f0f0;

            align-items: center;

            gap: 10px;        }        .service-card:hover {

        }



        .log-entries {

            max-height: 400px;        .detail-row:last-child {            transform: translateY(-5px);        .control-btn.refresh {

            overflow-y: auto;

            background: rgba(0, 0, 0, 0.03);            border-bottom: none;

            border-radius: 8px;

            padding: 15px;        }            box-shadow: 0 15px 40px rgba(0,0,0,0.3);            background: var(--primary-color);

        }



        .log-entry {

            padding: 10px;        .detail-label {        }        }

            margin-bottom: 10px;

            border-left: 3px solid #667eea;            color: #666;

            background: white;

            border-radius: 5px;            font-weight: 600;

        }

        }

        .log-entry.error {

            border-left-color: #ef4444;        .service-status {        .control-btn:hover {

        }

        .detail-value {

        .log-entry.success {

            border-left-color: #10b981;            color: #333;            position: absolute;            transform: translateY(-2px);

        }

            font-weight: bold;

        .log-time {

            color: #666;        }            top: 0;            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);

            font-size: 0.85rem;

            margin-bottom: 5px;

        }

        .gateway-card {            left: 0;        }

        .log-message {

            color: #333;            grid-column: 1 / -1;

        }

            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);            width: 100%;

        @media (max-width: 768px) {

            .header h1 {            color: white;

                font-size: 1.8rem;

            }        }            height: 6px;        .stats {



            .services-grid {

                grid-template-columns: 1fr;

            }        .gateway-card .service-icon {        }            display: grid;



            .controls {            background: white;

                flex-direction: column;

                align-items: stretch;            color: #667eea;            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));

            }

        }

            .toggle-switch {

                margin-left: 0;        .service-status.online {            gap: 1.5rem;

                justify-content: center;

            }        .gateway-card .detail-row {

        }

    </style>            border-bottom-color: rgba(255,255,255,0.2);            background: linear-gradient(90deg, #4CAF50, #8BC34A);            margin-bottom: 3rem;

</head>

<body>        }

    <div class="monitor-container">

        <div class="header">        }        }

            <h1>

                <i class="fas fa-server"></i>        .gateway-card .detail-label,

                TravelMap - –ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—Ç–µ—Ä–¥—ñ –±–∞“õ—ã–ª–∞—É

            </h1>        .gateway-card .detail-value {

            <p>–ë–∞—Ä–ª—ã“õ “õ—ã–∑–º–µ—Ç—Ç–µ—Ä–¥—ñ“£ –Ω–∞“õ—Ç—ã —É–∞“õ—ã—Ç—Ç–∞“ì—ã –º”ô—Ä—Ç–µ–±–µ—Å—ñ –º–µ–Ω –¥–µ–Ω—Å–∞—É–ª—ã“õ —Ç–µ–∫—Å–µ—Ä—ñ—Å—ñ</p>

        </div>            color: white;



        <div class="status-summary">        }        .service-status.offline {        .stat-card {

            <div class="summary-card total">

                <h3>–ë–∞—Ä–ª—ã“õ —Å–µ—Ä–≤–∏—Å—Ç–µ—Ä</h3>

                <div class="summary-value" id="totalServices">5</div>

                <p>–ñ–∞–ª–ø—ã “õ—ã–∑–º–µ—Ç—Ç–µ—Ä</p>        .overall-status {            background: linear-gradient(90deg, #F44336, #E91E63);            background: var(--dark-card);

            </div>

            <div class="summary-card online">            text-align: center;

                <h3>–û–Ω–ª–∞–π–Ω</h3>

                <div class="summary-value" id="onlineServices">-</div>            padding: 20px;        }            padding: 1.5rem;

                <p>–ë–µ–ª—Å–µ–Ω–¥—ñ —Å–µ—Ä–≤–∏—Å—Ç–µ—Ä</p>

            </div>            border-radius: 12px;

            <div class="summary-card offline">

                <h3>–û—Ñ–ª–∞–π–Ω</h3>            margin-top: 20px;            border-radius: 15px;

                <div class="summary-value" id="offlineServices">-</div>

                <p>–ë–µ–ª—Å–µ–Ω–¥—ñ –µ–º–µ—Å</p>            font-size: 1.2rem;

            </div>

            <div class="summary-card uptime">            font-weight: bold;        .service-header {            text-align: center;

                <h3>–ñ“±–º—ã—Å —É–∞“õ—ã—Ç—ã</h3>

                <div class="summary-value" id="systemUptime">-</div>        }

                <p>–û—Ä—Ç–∞—à–∞</p>

            </div>            display: flex;            border: 2px solid transparent;

        </div>

        .overall-status.healthy {

        <div class="controls">

            <button class="btn btn-primary" onclick="loadHealthStatus()">            background: rgba(76, 175, 80, 0.2);            align-items: center;            transition: all 0.3s ease;

                <i class="fas fa-sync-alt"></i>

                –ñ–∞“£–∞—Ä—Ç—É        }

            </button>

            <button class="btn btn-secondary" onclick="testAllServices()">            gap: 15px;        }

                <i class="fas fa-check-circle"></i>

                –ë–∞—Ä–ª—ã“ì—ã–Ω —Ç–µ–∫—Å–µ—Ä—É        .overall-status.degraded {

            </button>

            <div class="toggle-switch">            background: rgba(244, 67, 54, 0.2);            margin-bottom: 20px;

                <span>–ê–≤—Ç–æ-–∂–∞“£–∞—Ä—Ç—É:</span>

                <label class="switch">        }

                    <input type="checkbox" id="autoRefresh" onchange="toggleAutoRefresh()">

                    <span class="slider"></span>        }        .stat-card:hover {

                </label>

            </div>        .loading-spinner {

        </div>

            display: none;            transform: translateY(-5px);

        <div id="servicesContainer" class="services-grid">

            <div class="loading">            position: fixed;

                <div class="spinner"></div>

                <p>–°–µ—Ä–≤–∏—Å—Ç–µ—Ä–¥—ñ –∂“Ø–∫—Ç–µ—É...</p>            top: 50%;        .service-icon {            border-color: var(--primary-color);

            </div>

        </div>            left: 50%;



        <div class="last-update" id="lastUpdate"></div>            transform: translate(-50%, -50%);            width: 60px;        }

    </div>

            text-align: center;

    <script>

        let autoRefreshInterval = null;            color: white;            height: 60px;



        async function loadHealthStatus() {            font-size: 2rem;

            try {

                const response = await fetch('http://localhost:3000/api/health');            z-index: 1000;            border-radius: 12px;        .stat-icon {

                const data = await response.json();

                        }

                displayServices(data);

                updateSummary(data);            display: flex;            font-size: 2.5rem;

                updateLastUpdateTime();

            } catch (error) {        .loading-spinner.active {

                console.error('“ö–∞—Ç–µ:', error);

                document.getElementById('servicesContainer').innerHTML = `            display: block;            align-items: center;            margin-bottom: 1rem;

                    <div class="error-message" style="grid-column: 1/-1;">

                        <i class="fas fa-exclamation-triangle"></i>        }

                        <strong>“ö–∞—Ç–µ:</strong> API Gateway-–∫–µ “õ–æ—Å—ã–ª—É –º“Ø–º–∫—ñ–Ω –µ–º–µ—Å. 

                        Backend —ñ—Å–∫–µ “õ–æ—Å—ã–ª“ì–∞–Ω—ã–Ω —Ç–µ–∫—Å–µ—Ä—ñ“£—ñ–∑ (npm run start:all).            justify-content: center;        }

                    </div>

                `;        @keyframes spin {

            }

        }            to { transform: rotate(360deg); }            font-size: 2rem;



        function displayServices(data) {        }

            const container = document.getElementById('servicesContainer');

            const services = [            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);        .stat-value {

                {

                    name: 'API Gateway',        .spinner {

                    icon: 'fa-network-wired',

                    port: 3000,            animation: spin 1s linear infinite;            color: white;            font-size: 2rem;

                    description: '–ë–∞—Å—Ç—ã API —à–ª—é–∑—ñ',

                    status: data.gateway        }

                },

                {        }            font-weight: bold;

                    name: 'Places Service',

                    icon: 'fa-map-marked-alt',        .error-message {

                    port: 3001,

                    description: '–û—Ä—ã–Ω–¥–∞—Ä –º–µ–Ω –∂–µ—Ä–ª–µ—Ä–¥—ñ –±–∞—Å“õ–∞—Ä—É',            background: rgba(244, 67, 54, 0.9);            margin-bottom: 0.5rem;

                    status: data.services?.places

                },            color: white;

                {

                    name: 'Weather Service',            padding: 30px;        .service-info h3 {        }

                    icon: 'fa-cloud-sun',

                    port: 3002,            border-radius: 16px;

                    description: '–ê—É–∞-—Ä–∞–π—ã –¥–µ—Ä–µ–∫—Ç–µ—Ä—ñ',

                    status: data.services?.weather            text-align: center;            font-size: 1.5rem;

                },

                {            max-width: 600px;

                    name: 'Map Service',

                    icon: 'fa-map',            margin: 0 auto;            margin: 0;        .stat-label {

                    port: 3003,

                    description: '–ö–∞—Ä—Ç–∞–ª—ã“õ “õ—ã–∑–º–µ—Ç—Ç–µ—Ä',        }

                    status: data.services?.map

                },            color: #333;            color: var(--gray-text);

                {

                    name: 'Chat Service',        .error-message h3 {

                    icon: 'fa-comments',

                    port: 3004,            margin-bottom: 15px;        }            font-size: 0.9rem;

                    description: 'AI —á–∞—Ç-–±–æ—Ç—ã',

                    status: data.services?.chat            font-size: 1.8rem;

                }

            ];        }        }



            container.innerHTML = services.map(service => {

                const isOnline = service.status?.status === 'online';

                const statusClass = isOnline ? 'online' : 'offline';        .error-message p {        .service-badge {

                const statusText = isOnline ? '–û–Ω–ª–∞–π–Ω' : '–û—Ñ–ª–∞–π–Ω';

                            margin-bottom: 10px;

                return `

                    <div class="service-card ${statusClass}">            line-height: 1.6;            display: inline-block;        .services-grid {

                        <div class="service-header">

                            <div class="service-name">        }

                                <i class="fas ${service.icon} service-icon"></i>

                                ${service.name}            padding: 4px 12px;            display: grid;

                            </div>

                            <span class="status-badge ${statusClass}">${statusText}</span>        .error-message code {

                        </div>

                        <div class="service-details">            background: rgba(0,0,0,0.3);            border-radius: 20px;            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));

                            <div class="detail-row">

                                <span class="detail-label">–ü–æ—Ä—Ç:</span>            padding: 10px 15px;

                                <span class="detail-value">${service.port}</span>

                            </div>            border-radius: 8px;            font-size: 0.85rem;            gap: 2rem;

                            <div class="detail-row">

                                <span class="detail-label">URL:</span>            display: inline-block;

                                <a href="http://localhost:${service.port}" target="_blank" class="url-link detail-value">

                                    localhost:${service.port}            margin-top: 10px;            font-weight: bold;        }

                                </a>

                            </div>        }

                            <div class="detail-row">

                                <span class="detail-label">–°–∏–ø–∞—Ç—Ç–∞–º–∞:</span>            margin-top: 5px;

                                <span class="detail-value">${service.description}</span>

                            </div>        .last-update {

                            ${service.status?.uptime ? `

                                <div class="detail-row">            text-align: center;        }        .service-card {

                                    <span class="detail-label">–ñ“±–º—ã—Å —É–∞“õ—ã—Ç—ã:</span>

                                    <span class="detail-value">${formatUptime(service.status.uptime)}</span>            color: white;

                                </div>

                            ` : ''}            margin-top: 30px;            background: var(--dark-card);

                            ${service.status?.timestamp ? `

                                <div class="detail-row">            font-size: 1.1rem;

                                    <span class="detail-label">–°–æ“£“ì—ã —Ç–µ–∫—Å–µ—Ä—É:</span>

                                    <span class="detail-value">${new Date(service.status.timestamp).toLocaleTimeString('kk-KZ')}</span>        }        .service-badge.online {            border-radius: 20px;

                                </div>

                            ` : ''}

                        </div>

                        ${!isOnline && service.status?.error ? `        @media (max-width: 768px) {            background: #4CAF50;            padding: 2rem;

                            <div class="error-message">

                                <i class="fas fa-exclamation-circle"></i>            .monitor-header h1 {

                                ${service.status.error}

                            </div>                font-size: 2rem;            color: white;            border: 2px solid transparent;

                        ` : ''}

                    </div>            }

                `;

            }).join('');        }            transition: all 0.3s ease;

        }

            .services-grid {

        function updateSummary(data) {

            const services = [                grid-template-columns: 1fr;            position: relative;

                data.gateway,

                data.services?.places,            }

                data.services?.weather,

                data.services?.map,        .service-badge.offline {            overflow: hidden;

                data.services?.chat

            ];            .gateway-card {



            const onlineCount = services.filter(s => s?.status === 'online').length;                grid-column: 1;            background: #F44336;        }

            const offlineCount = services.filter(s => s?.status !== 'online').length;

            }

            document.getElementById('onlineServices').textContent = onlineCount;

            document.getElementById('offlineServices').textContent = offlineCount;        }            color: white;



            // –û—Ä—Ç–∞—à–∞ uptime –µ—Å–µ–ø—Ç–µ—É    </style>

            const uptimes = services

                .filter(s => s?.uptime)</head>        }        .service-card::before {

                .map(s => s.uptime);

            <body>

            if (uptimes.length > 0) {

                const avgUptime = uptimes.reduce((a, b) => a + b, 0) / uptimes.length;    <div class="monitor-container">            content: '';

                document.getElementById('systemUptime').textContent = formatUptime(avgUptime);

            } else {        <div class="monitor-header">

                document.getElementById('systemUptime').textContent = 'N/A';

            }            <h1><i class="fa-solid fa-chart-line"></i> –°–µ—Ä–≤–∏—Å—Ç–µ—Ä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥—ñ</h1>        .service-details {            position: absolute;

        }

            <p>TravelMap –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—Ç–µ—Ä—ñ–Ω—ñ“£ –Ω–∞“õ—Ç—ã —É–∞“õ—ã—Ç —Ä–µ–∂–∏–º—ñ–Ω–¥–µ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥—ñ</p>

        function formatUptime(seconds) {

            if (!seconds) return 'N/A';        </div>            margin-top: 20px;            top: 0;

            

            const days = Math.floor(seconds / 86400);

            const hours = Math.floor((seconds % 86400) / 3600);

            const minutes = Math.floor((seconds % 3600) / 60);        <div class="controls">        }            left: 0;

            const secs = Math.floor(seconds % 60);

            <button class="refresh-btn" onclick="loadHealthStatus()">

            const parts = [];

            if (days > 0) parts.push(`${days}–∫`);                <i class="fa-solid fa-rotate"></i>            width: 5px;

            if (hours > 0) parts.push(`${hours}—Å`);

            if (minutes > 0) parts.push(`${minutes}–º`);                <span>–ñ–∞“£–∞—Ä—Ç—É</span>

            if (secs > 0 || parts.length === 0) parts.push(`${secs}—Å`);

            </button>        .detail-row {            height: 100%;

            return parts.join(' ');

        }



        function updateLastUpdateTime() {            <label class="auto-refresh">            display: flex;            transition: all 0.3s ease;

            const now = new Date();

            const timeStr = now.toLocaleTimeString('kk-KZ');                <input type="checkbox" id="autoRefresh" checked onchange="toggleAutoRefresh()">

            const dateStr = now.toLocaleDateString('kk-KZ');

            document.getElementById('lastUpdate').textContent = `–°–æ“£“ì—ã –∂–∞“£–∞—Ä—Ç—É: ${dateStr} ${timeStr}`;                <span>–ê–≤—Ç–æ–º–∞—Ç—Ç—ã –∂–∞“£–∞—Ä—Ç—É (5 —Å–µ–∫)</span>            justify-content: space-between;        }

        }

            </label>

        function toggleAutoRefresh() {

            const checkbox = document.getElementById('autoRefresh');        </div>            padding: 12px 0;

            

            if (checkbox.checked) {

                autoRefreshInterval = setInterval(loadHealthStatus, 5000);

                console.log('–ê–≤—Ç–æ-–∂–∞“£–∞—Ä—Ç—É “õ–æ—Å—ã–ª–¥—ã (5 —Å–µ–∫—É–Ω–¥ —Å–∞–π—ã–Ω)');        <div class="loading-spinner" id="loadingSpinner">            border-bottom: 1px solid #f0f0f0;        .service-card.active::before {

            } else {

                if (autoRefreshInterval) {            <i class="fa-solid fa-spinner spinner"></i>

                    clearInterval(autoRefreshInterval);

                    autoRefreshInterval = null;            <p>–ñ“Ø–∫—Ç–µ–ª—É–¥–µ...</p>        }            background: var(--success-color);

                }

                console.log('–ê–≤—Ç–æ-–∂–∞“£–∞—Ä—Ç—É ”©—à—ñ—Ä—ñ–ª–¥—ñ');        </div>

            }

        }        }



        async function testAllServices() {        <div class="services-grid" id="servicesGrid">

            const services = [

                { name: 'API Gateway', url: 'http://localhost:3000/api/health' },            <!-- –°–µ—Ä–≤–∏—Å—Ç–µ—Ä –¥–∏–Ω–∞–º–∏–∫–∞–ª—ã“õ —Ç“Ø—Ä–¥–µ “õ–æ—Å—ã–ª–∞–¥—ã -->        .detail-row:last-child {

                { name: 'Places', url: 'http://localhost:3001/health' },

                { name: 'Weather', url: 'http://localhost:3002/health' },        </div>

                { name: 'Map', url: 'http://localhost:3003/health' },

                { name: 'Chat', url: 'http://localhost:3004/health' }            border-bottom: none;        .service-card.inactive::before {

            ];

        <div class="last-update" id="lastUpdate"></div>

            console.log('=== –ë–∞—Ä–ª—ã“õ —Å–µ—Ä–≤–∏—Å—Ç–µ—Ä–¥—ñ —Ç–µ–∫—Å–µ—Ä—É ===');

                </div>        }            background: var(--danger-color);

            for (const service of services) {

                try {

                    const response = await fetch(service.url);

                    const data = await response.json();    <script>        }

                    console.log(`‚úÖ ${service.name}: OK`, data);

                } catch (error) {        let autoRefreshInterval = null;

                    console.error(`‚ùå ${service.name}: “ö–ê–¢–ï`, error.message);

                }        .detail-label {

            }

                    async function loadHealthStatus() {

            console.log('=== –¢–µ–∫—Å–µ—Ä—É –∞—è“õ—Ç–∞–ª–¥—ã ===');

            loadHealthStatus();            const grid = document.getElementById('servicesGrid');            color: #666;        .service-card.error::before {

        }

            const spinner = document.getElementById('loadingSpinner');

        // –ë–µ—Ç—Ç—ñ –∂“Ø–∫—Ç–µ–≥–µ–Ω–¥–µ –¥–µ—Ä–µ–∫—Ç–µ—Ä–¥—ñ –∞–ª—É

        document.addEventListener('DOMContentLoaded', () => {                        font-weight: 600;            background: var(--warning-color);

            loadHealthStatus();

            // ”ò–¥–µ–ø–∫—ñ –±–æ–π—ã–Ω—à–∞ –∞–≤—Ç–æ-–∂–∞“£–∞—Ä—Ç—É “õ–æ—Å—É            try {

            document.getElementById('autoRefresh').checked = true;

            toggleAutoRefresh();                spinner.classList.add('active');        }        }

        });

    </script>                

</body>

</html>                const response = await fetch('http://localhost:3000/api/health');


                const data = await response.json();

                        .detail-value {        .service-header {

                displayServices(data);

                            color: #333;            display: flex;

                document.getElementById('lastUpdate').innerHTML = 

                    `<i class="fa-solid fa-clock"></i> –°–æ“£“ì—ã –∂–∞“£–∞—Ä—Ç—É: ${new Date().toLocaleString('kk-KZ')}`;            font-weight: bold;            justify-content: space-between;

                

            } catch (error) {        }            align-items: center;

                console.error('–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ “õ–∞—Ç–µ—Å—ñ:', error);

                grid.innerHTML = `            margin-bottom: 1.5rem;

                    <div class="error-message">

                        <i class="fa-solid fa-triangle-exclamation"></i>        .gateway-card {        }

                        <h3>“ö–∞—Ç–µ –æ—Ä—ã–Ω –∞–ª–¥—ã</h3>

                        <p>API Gateway “õ–æ–ª–∂–µ—Ç—ñ–º–¥—ñ –µ–º–µ—Å. –°–µ—Ä–≤–µ—Ä–¥—ñ —ñ—Å–∫–µ “õ–æ—Å—ã“£—ã–∑:</p>            grid-column: 1 / -1;

                        <code>cd backend && npm run start:all</code>

                    </div>            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);        .service-title {

                `;

            } finally {            color: white;            display: flex;

                spinner.classList.remove('active');

            }        }            align-items: center;

        }

            gap: 1rem;

        function displayServices(data) {

            const grid = document.getElementById('servicesGrid');        .gateway-card .service-icon {        }

            let html = '';

                        background: white;

            html += createGatewayCard(data.gateway, data.overall);

                        color: #667eea;        .service-icon {

            const serviceIcons = {

                places: 'üìç',        }            font-size: 2rem;

                weather: 'üå§Ô∏è',

                map: 'üó∫Ô∏è',        }

                chat: 'üí¨'

            };        .gateway-card .detail-row {

            

            const serviceNames = {            border-bottom-color: rgba(255,255,255,0.2);        .service-name {

                places: '–û—Ä—ã–Ω–¥–∞—Ä —Å–µ—Ä–≤–∏—Å—ñ',

                weather: '–ê—É–∞ —Ä–∞–π—ã —Å–µ—Ä–≤–∏—Å—ñ',        }            font-size: 1.5rem;

                map: '–ö–∞—Ä—Ç–∞ —Å–µ—Ä–≤–∏—Å—ñ',

                chat: '–ß–∞—Ç–±–æ—Ç —Å–µ—Ä–≤–∏—Å—ñ'            font-weight: bold;

            };

                    .gateway-card .detail-label,        }

            for (const [name, info] of Object.entries(data.services)) {

                html += createServiceCard(name, serviceNames[name], serviceIcons[name], info);        .gateway-card .detail-value {

            }

                        color: white;        .status-badge {

            grid.innerHTML = html;

        }        }            padding: 0.5rem 1rem;



        function createGatewayCard(gateway, overall) {            border-radius: 20px;

            return `

                <div class="service-card gateway-card">        .overall-status {            font-size: 0.9rem;

                    <div class="service-status ${gateway.status}"></div>

                    <div class="service-header">            text-align: center;            font-weight: bold;

                        <div class="service-icon">

                            <i class="fa-solid fa-server"></i>            padding: 20px;            display: flex;

                        </div>

                        <div class="service-info">            border-radius: 12px;            align-items: center;

                            <h3>API Gateway</h3>

                            <span class="service-badge ${gateway.status}">${gateway.status.toUpperCase()}</span>            margin-top: 20px;            gap: 0.5rem;

                        </div>

                    </div>            font-size: 1.2rem;        }

                    <div class="service-details">

                        <div class="detail-row">            font-weight: bold;

                            <span class="detail-label">–ü–æ—Ä—Ç</span>

                            <span class="detail-value">${gateway.port}</span>        }        .status-badge.active {

                        </div>

                        <div class="detail-row">            background: rgba(34, 197, 94, 0.2);

                            <span class="detail-label">Uptime</span>

                            <span class="detail-value">${formatUptime(gateway.uptime)}</span>        .overall-status.healthy {            color: var(--success-color);

                        </div>

                        <div class="detail-row">            background: rgba(76, 175, 80, 0.2);        }

                            <span class="detail-label">–£–∞“õ—ã—Ç</span>

                            <span class="detail-value">${new Date(gateway.timestamp).toLocaleTimeString('kk-KZ')}</span>        }

                        </div>

                    </div>        .status-badge.inactive {

                    <div class="overall-status ${overall}">

                        <i class="fa-solid fa-${overall === 'healthy' ? 'check-circle' : 'exclamation-triangle'}"></i>        .overall-status.degraded {            background: rgba(239, 68, 68, 0.2);

                        ${overall === 'healthy' ? '–ë–∞—Ä–ª—ã“ì—ã –∂“±–º—ã—Å —ñ—Å—Ç–µ–ø —Ç“±—Ä' : '–ö–µ–π–±—ñ—Ä —Å–µ—Ä–≤–∏—Å—Ç–µ—Ä “õ–æ–ª–∂–µ—Ç—ñ–º–¥—ñ –µ–º–µ—Å'}

                    </div>            background: rgba(244, 67, 54, 0.2);            color: var(--danger-color);

                </div>

            `;        }        }

        }



        function createServiceCard(name, title, icon, info) {

            const isOnline = info.status === 'online';        .loading-spinner {        .status-badge.error {

            

            return `            display: none;            background: rgba(245, 158, 11, 0.2);

                <div class="service-card">

                    <div class="service-status ${info.status}"></div>            position: fixed;            color: var(--warning-color);

                    <div class="service-header">

                        <div class="service-icon">${icon}</div>            top: 50%;        }

                        <div class="service-info">

                            <h3>${title}</h3>            left: 50%;

                            <span class="service-badge ${info.status}">${info.status.toUpperCase()}</span>

                        </div>            transform: translate(-50%, -50%);        .service-info {

                    </div>

                    <div class="service-details">            text-align: center;            margin-bottom: 1.5rem;

                        ${isOnline ? `

                            <div class="detail-row">            color: white;        }

                                <span class="detail-label">–ü–æ—Ä—Ç</span>

                                <span class="detail-value">${info.port}</span>            font-size: 2rem;

                            </div>

                            <div class="detail-row">        }        .info-row {

                                <span class="detail-label">Uptime</span>

                                <span class="detail-value">${formatUptime(info.uptime)}</span>            display: flex;

                            </div>

                            <div class="detail-row">        .loading-spinner.active {            justify-content: space-between;

                                <span class="detail-label">–°–µ—Ä–≤–∏—Å</span>

                                <span class="detail-value">${info.service}</span>            display: block;            padding: 0.8rem 0;

                            </div>

                            ${info.api ? `        }            border-bottom: 1px solid rgba(148, 163, 184, 0.1);

                            <div class="detail-row">

                                <span class="detail-label">API</span>        }

                                <span class="detail-value">${info.api}</span>

                            </div>        @keyframes spin {

                            ` : ''}

                        ` : `            to { transform: rotate(360deg); }        .info-label {

                            <div class="detail-row">

                                <span class="detail-label">“ö–∞—Ç–µ</span>        }            color: var(--gray-text);

                                <span class="detail-value" style="color: #F44336;">${info.error}</span>

                            </div>        }

                            <div class="detail-row">

                                <span class="detail-label">URL</span>        .spinner {

                                <span class="detail-value">${info.url}</span>

                            </div>            animation: spin 1s linear infinite;        .info-value {

                        `}

                    </div>        }            font-weight: bold;

                </div>

            `;        }

        }

        .error-message {

        function formatUptime(seconds) {

            const hours = Math.floor(seconds / 3600);            background: rgba(244, 67, 54, 0.9);        .service-actions {

            const minutes = Math.floor((seconds % 3600) / 60);

            const secs = Math.floor(seconds % 60);            color: white;            display: flex;

            

            if (hours > 0) {            padding: 20px;            gap: 1rem;

                return `${hours}—Å ${minutes}–º ${secs}—Å`;

            } else if (minutes > 0) {            border-radius: 12px;        }

                return `${minutes}–º ${secs}—Å`;

            } else {            margin: 20px auto;

                return `${secs}—Å`;

            }            max-width: 600px;        .action-btn {

        }

            text-align: center;            flex: 1;

        function toggleAutoRefresh() {

            const checkbox = document.getElementById('autoRefresh');        }            padding: 0.8rem;

            

            if (checkbox.checked) {            border: none;

                autoRefreshInterval = setInterval(loadHealthStatus, 5000);

                console.log('‚úÖ –ê–≤—Ç–æ–º–∞—Ç—Ç—ã –∂–∞“£–∞—Ä—Ç—É “õ–æ—Å—ã–ª–¥—ã');        .last-update {            border-radius: 10px;

            } else {

                clearInterval(autoRefreshInterval);            text-align: center;            cursor: pointer;

                autoRefreshInterval = null;

                console.log('‚ùå –ê–≤—Ç–æ–º–∞—Ç—Ç—ã –∂–∞“£–∞—Ä—Ç—É ”©—à—ñ—Ä—ñ–ª–¥—ñ');            color: white;            font-size: 0.9rem;

            }

        }            margin-top: 30px;            display: flex;



        document.addEventListener('DOMContentLoaded', () => {            font-size: 1rem;            align-items: center;

            loadHealthStatus();

            toggleAutoRefresh();        }            justify-content: center;

        });

    </script>    </style>            gap: 0.5rem;

</body>

</html></head>            transition: all 0.3s ease;


<body>            color: white;

    <div class="monitor-container">        }

        <div class="monitor-header">

            <h1><i class="fa-solid fa-chart-line"></i> –°–µ—Ä–≤–∏—Å—Ç–µ—Ä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥—ñ</h1>        .action-btn.start {

            <p>TravelMap –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—Ç–µ—Ä—ñ–Ω—ñ“£ –Ω–∞“õ—Ç—ã —É–∞“õ—ã—Ç —Ä–µ–∂–∏–º—ñ–Ω–¥–µ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥—ñ</p>            background: var(--success-color);

        </div>        }



        <button class="refresh-btn" onclick="loadHealthStatus()">        .action-btn.stop {

            <i class="fa-solid fa-rotate"></i> –ñ–∞“£–∞—Ä—Ç—É            background: var(--danger-color);

        </button>        }



        <div class="auto-refresh">        .action-btn.restart {

            <label>            background: var(--primary-color);

                <input type="checkbox" id="autoRefresh" checked onchange="toggleAutoRefresh()">        }

                –ê–≤—Ç–æ–º–∞—Ç—Ç—ã –∂–∞“£–∞—Ä—Ç—É (5 —Å–µ–∫—É–Ω–¥ —Å–∞–π—ã–Ω)

            </label>        .action-btn.details {

        </div>            background: var(--dark-bg);

        }

        <div class="loading-spinner" id="loadingSpinner">

            <i class="fa-solid fa-spinner spinner"></i>        .action-btn:hover {

            <p>–ñ“Ø–∫—Ç–µ–ª—É–¥–µ...</p>            transform: translateY(-2px);

        </div>        }



        <div class="services-grid" id="servicesGrid">        .action-btn:disabled {

            <!-- –°–µ—Ä–≤–∏—Å—Ç–µ—Ä –¥–∏–Ω–∞–º–∏–∫–∞–ª—ã“õ —Ç“Ø—Ä–¥–µ “õ–æ—Å—ã–ª–∞–¥—ã -->            opacity: 0.5;

        </div>            cursor: not-allowed;

            transform: none;

        <div class="last-update" id="lastUpdate"></div>        }

    </div>

        .log-section {

    <script>            margin-top: 2rem;

        let autoRefreshInterval = null;            background: rgba(0, 0, 0, 0.3);

            border-radius: 10px;

        async function loadHealthStatus() {            padding: 1rem;

            const grid = document.getElementById('servicesGrid');            max-height: 200px;

            const spinner = document.getElementById('loadingSpinner');            overflow-y: auto;

                    }

            try {

                spinner.classList.add('active');        .log-title {

                            font-weight: bold;

                const response = await fetch('http://localhost:3000/api/health');            margin-bottom: 0.5rem;

                const data = await response.json();            color: var(--primary-color);

                        }

                displayServices(data);

                        .log-entry {

                document.getElementById('lastUpdate').innerHTML =             font-size: 0.85rem;

                    `<i class="fa-solid fa-clock"></i> –°–æ“£“ì—ã –∂–∞“£–∞—Ä—Ç—É: ${new Date().toLocaleString('kk-KZ')}`;            padding: 0.3rem 0;

                            color: var(--gray-text);

            } catch (error) {            font-family: 'Courier New', monospace;

                console.error('–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ “õ–∞—Ç–µ—Å—ñ:', error);        }

                grid.innerHTML = `

                    <div class="error-message">        .log-entry.error {

                        <i class="fa-solid fa-triangle-exclamation"></i>            color: var(--danger-color);

                        <h3>“ö–∞—Ç–µ –æ—Ä—ã–Ω –∞–ª–¥—ã</h3>        }

                        <p>API Gateway “õ–æ–ª–∂–µ—Ç—ñ–º–¥—ñ –µ–º–µ—Å. –°–µ—Ä–≤–µ—Ä–¥—ñ —ñ—Å–∫–µ “õ–æ—Å—ã“£—ã–∑.</p>

                        <p><code>cd backend && npm run start:gateway</code></p>        .log-entry.success {

                    </div>            color: var(--success-color);

                `;        }

            } finally {

                spinner.classList.remove('active');        .pulse {

            }            animation: pulse 2s infinite;

        }        }



        function displayServices(data) {        @keyframes pulse {

            const grid = document.getElementById('servicesGrid');            0%, 100% {

            let html = '';                opacity: 1;

                        }

            html += createGatewayCard(data.gateway, data.overall);            50% {

                            opacity: 0.5;

            const serviceIcons = {            }

                places: 'üìç',        }

                weather: 'üå§Ô∏è',

                map: 'üó∫Ô∏è',        .loading {

                chat: 'üí¨'            text-align: center;

            };            padding: 3rem;

                        font-size: 1.5rem;

            const serviceNames = {            color: var(--gray-text);

                places: '–û—Ä—ã–Ω–¥–∞—Ä —Å–µ—Ä–≤–∏—Å—ñ',        }

                weather: '–ê—É–∞ —Ä–∞–π—ã —Å–µ—Ä–≤–∏—Å—ñ',

                map: '–ö–∞—Ä—Ç–∞ —Å–µ—Ä–≤–∏—Å—ñ',        @media (max-width: 768px) {

                chat: '–ß–∞—Ç–±–æ—Ç —Å–µ—Ä–≤–∏—Å—ñ'            body {

            };                padding: 1rem;

                        }

            for (const [name, info] of Object.entries(data.services)) {

                html += createServiceCard(name, serviceNames[name], serviceIcons[name], info);            h1 {

            }                font-size: 2rem;

                        }

            grid.innerHTML = html;

        }            .services-grid {

                grid-template-columns: 1fr;

        function createGatewayCard(gateway, overall) {            }

            return `

                <div class="service-card gateway-card">            .controls {

                    <div class="service-status ${gateway.status}"></div>                flex-direction: column;

                    <div class="service-header">            }

                        <div class="service-icon">

                            <i class="fa-solid fa-server"></i>            .control-btn {

                        </div>                width: 100%;

                        <div class="service-info">                justify-content: center;

                            <h3>API Gateway</h3>            }

                            <span class="service-badge ${gateway.status}">${gateway.status.toUpperCase()}</span>        }

                        </div>    </style>

                    </div></head>

                    <div class="service-details"><body>

                        <div class="detail-row">    <div class="container">

                            <span class="detail-label">–ü–æ—Ä—Ç</span>        <header>

                            <span class="detail-value">${gateway.port}</span>            <h1>

                        </div>                <i class="fa-solid fa-chart-line"></i>

                        <div class="detail-row">                –ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—Ç–µ—Ä–¥—ñ –±–∞“õ—ã–ª–∞—É

                            <span class="detail-label">Uptime</span>            </h1>

                            <span class="detail-value">${formatUptime(gateway.uptime)}</span>            <p class="subtitle">tr–êvelMap –∂“Ø–π–µ—Å—ñ–Ω—ñ“£ –±–∞—Å“õ–∞—Ä—É –ø–∞–Ω–µ–ª—ñ</p>

                        </div>        </header>

                        <div class="detail-row">

                            <span class="detail-label">–£–∞“õ—ã—Ç</span>        <div class="controls">

                            <span class="detail-value">${new Date(gateway.timestamp).toLocaleTimeString('kk-KZ')}</span>            <button class="control-btn start-all" onclick="startAllServices()">

                        </div>                <i class="fa-solid fa-play"></i>

                    </div>                –ë–∞—Ä–ª—ã“ì—ã–Ω —ñ—Å–∫–µ “õ–æ—Å—É

                    <div class="overall-status ${overall}">            </button>

                        <i class="fa-solid fa-${overall === 'healthy' ? 'check-circle' : 'exclamation-triangle'}"></i>            <button class="control-btn stop-all" onclick="stopAllServices()">

                        ${overall === 'healthy' ? '–ë–∞—Ä–ª—ã“ì—ã –∂“±–º—ã—Å —ñ—Å—Ç–µ–ø —Ç“±—Ä' : '–ö–µ–π–±—ñ—Ä —Å–µ—Ä–≤–∏—Å—Ç–µ—Ä “õ–æ–ª–∂–µ—Ç—ñ–º–¥—ñ –µ–º–µ—Å'}                <i class="fa-solid fa-stop"></i>

                    </div>                –ë–∞—Ä–ª—ã“ì—ã–Ω —Ç–æ“õ—Ç–∞—Ç—É

                </div>            </button>

            `;            <button class="control-btn refresh" onclick="refreshMonitoring()">

        }                <i class="fa-solid fa-rotate"></i>

                –ñ–∞“£–∞—Ä—Ç—É

        function createServiceCard(name, title, icon, info) {            </button>

            const isOnline = info.status === 'online';        </div>

            

            return `        <div class="stats">

                <div class="service-card">            <div class="stat-card">

                    <div class="service-status ${info.status}"></div>                <div class="stat-icon" style="color: var(--success-color);">

                    <div class="service-header">                    <i class="fa-solid fa-circle-check"></i>

                        <div class="service-icon">${icon}</div>                </div>

                        <div class="service-info">                <div class="stat-value" id="active-count">0</div>

                            <h3>${title}</h3>                <div class="stat-label">–ë–µ–ª—Å–µ–Ω–¥—ñ —Å–µ—Ä–≤–∏—Å—Ç–µ—Ä</div>

                            <span class="service-badge ${info.status}">${info.status.toUpperCase()}</span>            </div>

                        </div>

                    </div>            <div class="stat-card">

                    <div class="service-details">                <div class="stat-icon" style="color: var(--danger-color);">

                        ${isOnline ? `                    <i class="fa-solid fa-circle-xmark"></i>

                            <div class="detail-row">                </div>

                                <span class="detail-label">–ü–æ—Ä—Ç</span>                <div class="stat-value" id="inactive-count">0</div>

                                <span class="detail-value">${info.port}</span>                <div class="stat-label">–¢–æ“õ—Ç–∞—Ç—ã–ª“ì–∞–Ω–¥–∞—Ä</div>

                            </div>            </div>

                            <div class="detail-row">

                                <span class="detail-label">Uptime</span>            <div class="stat-card">

                                <span class="detail-value">${formatUptime(info.uptime)}</span>                <div class="stat-icon" style="color: var(--warning-color);">

                            </div>                    <i class="fa-solid fa-triangle-exclamation"></i>

                            <div class="detail-row">                </div>

                                <span class="detail-label">–°–µ—Ä–≤–∏—Å</span>                <div class="stat-value" id="error-count">0</div>

                                <span class="detail-value">${info.service}</span>                <div class="stat-label">“ö–∞—Ç–µ–ª–µ—Ä–º–µ–Ω</div>

                            </div>            </div>

                            ${info.api ? `

                            <div class="detail-row">            <div class="stat-card">

                                <span class="detail-label">API</span>                <div class="stat-icon" style="color: var(--primary-color);">

                                <span class="detail-value">${info.api}</span>                    <i class="fa-solid fa-clock"></i>

                            </div>                </div>

                            ` : ''}                <div class="stat-value" id="uptime">0s</div>

                        ` : `                <div class="stat-label">–ñ–∞–ª–ø—ã –∂“±–º—ã—Å —É–∞“õ—ã—Ç—ã</div>

                            <div class="detail-row">            </div>

                                <span class="detail-label">“ö–∞—Ç–µ</span>        </div>

                                <span class="detail-value" style="color: #F44336;">${info.error}</span>

                            </div>        <div id="services-container" class="services-grid">

                            <div class="detail-row">            <div class="loading">

                                <span class="detail-label">URL</span>                <i class="fa-solid fa-spinner fa-spin"></i>

                                <span class="detail-value">${info.url}</span>                –ë–∞“õ—ã–ª–∞—É –¥–µ—Ä–µ–∫—Ç–µ—Ä—ñ–Ω –∂“Ø–∫—Ç–µ—É...

                            </div>            </div>

                        `}        </div>

                    </div>    </div>

                </div>

            `;    <script src="js/monitoringService.js"></script>

        }</body>

</html>

        function formatUptime(seconds) {
            const hours = Math.floor(seconds / 3600);
            const minutes = Math.floor((seconds % 3600) / 60);
            const secs = Math.floor(seconds % 60);
            
            if (hours > 0) {
                return `${hours}—Å ${minutes}–º ${secs}—Å`;
            } else if (minutes > 0) {
                return `${minutes}–º ${secs}—Å`;
            } else {
                return `${secs}—Å`;
            }
        }

        function toggleAutoRefresh() {
            const checkbox = document.getElementById('autoRefresh');
            
            if (checkbox.checked) {
                autoRefreshInterval = setInterval(loadHealthStatus, 5000);
            } else {
                clearInterval(autoRefreshInterval);
                autoRefreshInterval = null;
            }
        }

        document.addEventListener('DOMContentLoaded', () => {
            loadHealthStatus();
            toggleAutoRefresh();
        });
    </script>
</body>
</html>
